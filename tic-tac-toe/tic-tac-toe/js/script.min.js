let resetButton=document.querySelector(".controlls__reset"),settingsButton=document.querySelector(".controlls__settings"),fieldItems=document.querySelectorAll(".board__item"),oTurn=document.querySelector(".turn__image_white-o"),xTurn=document.querySelector(".turn__image_white-x"),turnIndicate=document.querySelector(".turn__indicate"),gameIsLive=!0,xIsNext=!0,winner=null,draw=!0,funcCounter=0;const clearField=()=>{for(const e of fieldItems)e.innerHTML="",e.classList.remove("x"),e.classList.remove("o");draw=!0,gameIsLive=!0,xIsNext=!0,winner=null,funcCounter=0,turnIndicate.classList.remove("o-turn"),turnIndicate.classList.add("x-turn"),oTurn.classList.remove("is-turn"),xTurn.classList.add("is-turn")},toggleSwitch=()=>{turnIndicate.classList.toggle("o-turn"),turnIndicate.classList.toggle("x-turn"),oTurn.classList.toggle("is-turn"),xTurn.classList.toggle("is-turn")},drawCheck=()=>{if(9==funcCounter&&1==draw){let e=+document.querySelector(".count__draws-output").textContent;e++,document.querySelector(".count__draws-output").textContent=e,clearField()}},handleWinner=e=>{if(draw=!1,gameIsLive=!1,winner=e,"x"==winner){let e=+document.querySelector(".count__x-output").textContent;e++,document.querySelector(".count__x-output").textContent=e}else if("o"==winner){let e=+document.querySelector(".count__o-output").textContent;e++,document.querySelector(".count__o-output").textContent=e}clearField()},gameStatus=()=>{const e=fieldItems[0].classList[2],t=fieldItems[1].classList[2],n=fieldItems[2].classList[2],s=fieldItems[3].classList[2],r=fieldItems[4].classList[2],o=fieldItems[5].classList[2],l=fieldItems[6].classList[2],c=fieldItems[7].classList[2],i=fieldItems[8].classList[2];funcCounter++,e&&e===t&&e===n?handleWinner(e):s&&s===r&&s===o?handleWinner(s):l&&l===c&&l===i?handleWinner(l):e&&e===s&&e===l?handleWinner(e):t&&t===r&&t===c?handleWinner(t):n&&n===o&&n===i?handleWinner(n):e&&e===r&&e===i?handleWinner(e):n&&n===r&&n==l&&handleWinner(n)},handlerReset=e=>{for(const e of fieldItems)e.innerHTML="",e.classList.remove("x"),e.classList.remove("o");clearField(),document.querySelector(".count__x-output").textContent=0,document.querySelector(".count__o-output").textContent=0,document.querySelector(".count__draws-output").textContent=0},handleCellClick=e=>{e.target.classList[1];const t=e.target.classList;"x"!==t[2]&&"o"!==t[2]&&(xIsNext?(e.target.innerHTML='<img src="./img/x.png">',e.target.classList.add("x"),toggleSwitch(),gameStatus(),drawCheck(),xIsNext=!xIsNext):(e.target.innerHTML='<img src="./img/rec.png">',e.target.classList.add("o"),toggleSwitch(),gameStatus(),drawCheck(),xIsNext=!xIsNext))};resetButton.addEventListener("click",handlerReset);for(const e of fieldItems)e.addEventListener("click",handleCellClick);