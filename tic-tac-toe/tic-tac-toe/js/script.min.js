let resetButton=document.querySelector(".controlls__reset"),settingsButton=document.querySelector(".controlls__settings"),fieldItems=document.querySelectorAll(".board__item"),oTurn=document.querySelector(".turn__image_white-o"),xTurn=document.querySelector(".turn__image_white-x"),turnIndicate=document.querySelector(".turn__indicate"),gameIsLive=!0,xIsNext=!0,winner=null,draw=!0,funcCounter=0;const clearField=()=>{for(const e of fieldItems)e.innerHTML="",e.classList.remove("x"),e.classList.remove("o");draw=!0,gameIsLive=!0,xIsNext=!1,winner=null,funcCounter=0,turnIndicate.classList.remove("o-turn"),turnIndicate.classList.add("x-turn"),oTurn.classList.remove("is-turn"),xTurn.classList.add("is-turn")},toggleSwitch=()=>{turnIndicate.classList.toggle("o-turn"),turnIndicate.classList.toggle("x-turn"),oTurn.classList.toggle("is-turn"),xTurn.classList.toggle("is-turn")},drawCheck=()=>{if(9==funcCounter&&1==draw){let e=+document.querySelector(".count__draws-output").textContent;e++,document.querySelector(".count__draws-output").textContent=e,document.querySelector(".game-field__winner-card").classList.add("active"),document.querySelector(".game-field__winner-card-output").innerHTML="Draw!",setTimeout(()=>{document.querySelector(".game-field__winner-card").classList.remove("active")},3e3),clearField()}},handleWinner=e=>{if(draw=!1,gameIsLive=!1,winner=e,"x"==winner){let e=+document.querySelector(".count__x-output").textContent;e++,document.querySelector(".count__x-output").textContent=e,document.querySelector(".game-field__winner-card").classList.add("active"),document.querySelector(".game-field__winner-card-output").innerHTML='<img src="./img/x.png">',setTimeout(()=>{document.querySelector(".game-field__winner-card").classList.remove("active")},3e3)}else if("o"==winner){let e=+document.querySelector(".count__o-output").textContent;e++,document.querySelector(".count__o-output").textContent=e,document.querySelector(".game-field__winner-card").classList.add("active"),document.querySelector(".game-field__winner-card-output").innerHTML='<img src="./img/rec.png">',setTimeout(()=>{document.querySelector(".game-field__winner-card").classList.remove("active")},3e3)}clearField()},gameStatus=()=>{const e=fieldItems[0].classList[2],t=fieldItems[1].classList[2],n=fieldItems[2].classList[2],r=fieldItems[3].classList[2],s=fieldItems[4].classList[2],c=fieldItems[5].classList[2],i=fieldItems[6].classList[2],o=fieldItems[7].classList[2],l=fieldItems[8].classList[2];funcCounter++,e&&e===t&&e===n?handleWinner(e):r&&r===s&&r===c?handleWinner(r):i&&i===o&&i===l?handleWinner(i):e&&e===r&&e===i?handleWinner(e):t&&t===s&&t===o?handleWinner(t):n&&n===c&&n===l?handleWinner(n):e&&e===s&&e===l?handleWinner(e):n&&n===s&&n==i&&handleWinner(n)},handlerReset=e=>{for(const e of fieldItems)e.innerHTML="",e.classList.remove("x"),e.classList.remove("o");clearField(),xIsNext=!0,document.querySelector(".count__x-output").textContent=0,document.querySelector(".count__o-output").textContent=0,document.querySelector(".count__draws-output").textContent=0},handleCellClick=e=>{e.target.classList[1];const t=e.target.classList;"x"!==t[2]&&"o"!==t[2]&&(xIsNext?(e.target.innerHTML='<img src="./img/x.png">',e.target.classList.add("x"),toggleSwitch(),gameStatus(),drawCheck(),xIsNext=!xIsNext):(e.target.innerHTML='<img src="./img/rec.png">',e.target.classList.add("o"),toggleSwitch(),gameStatus(),drawCheck(),xIsNext=!xIsNext))};resetButton.addEventListener("click",handlerReset);for(const e of fieldItems)e.addEventListener("click",handleCellClick);